<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:Class="AIBookExtractor.MainWindow"
        Title="AIBookExtractor">
    <TabControl Margin="10">
        <!-- Main Tab -->
        <TabItem Header="Main">
            <Grid RowDefinitions="Auto,*,Auto" ColumnDefinitions="300,*">
                <!-- Top row: Load PDF and Save Text buttons -->
                <StackPanel Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Orientation="Horizontal" Margin="5">
                    <Button x:Name="LoadPdfButton" Content="Load PDF" Click="LoadPdfButton_Click"/>
                    <Button x:Name="SaveTextButton" Content="Save Text" Click="SaveTextButton_Click"/>
                </StackPanel>

                <!-- Left panel: Scrollable PDF page images -->
                <ScrollViewer Grid.Row="1" Grid.Column="0" VerticalScrollBarVisibility="Auto">
                    <StackPanel x:Name="PdfPagesPanel">
                        <!-- Dynamically add Image controls with page number labels -->
                        <TextBlock Text="PDF page thumbnails will appear here..." Foreground="Gray"/>
                    </StackPanel>
                </ScrollViewer>

                <!-- Right panel: Header with page number and Send to AI button, then TextBox -->
                <Grid Grid.Row="1" Grid.Column="1" RowDefinitions="Auto,*">
                    <!-- Header with page number and Send to AI button -->
                    <DockPanel Grid.Row="0" Margin="5">
                        <TextBlock x:Name="PageNumberHeader" Text="Page 1" FontSize="16" FontWeight="Bold" VerticalAlignment="Center"/>
                        <Button x:Name="SendToAiButton" Content="Send Page to AI" HorizontalAlignment="Right" DockPanel.Dock="Right" Click="SendToAiButton_Click"/>
                    </DockPanel>
                    <!-- TextBox for extracted text -->
                    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                        <TextBox x:Name="ExtractedTextBox" 
                                 AcceptsReturn="True" 
                                 AcceptsTab="True" 
                                 TextWrapping="Wrap" 
                                 IsReadOnly="False"/>
                    </ScrollViewer>
                </Grid>
            </Grid>
        </TabItem>

        <!-- Settings Tab -->
        <TabItem Header="Settings">
            <StackPanel Margin="10" MaxWidth="800" HorizontalAlignment="Left">
                <TextBlock Text="Service"/>
                <ComboBox x:Name="ServiceSelector" PlaceholderText="Select AI service" Width="800">
                    <ComboBoxItem Content="Service 1"/>
                    <ComboBoxItem Content="Service 2"/>
                </ComboBox>
                <TextBlock Text="Model"/>
                <ComboBox x:Name="ModelSelector" PlaceholderText="Select model" Width="800">
                    <ComboBoxItem Content="Model A"/>
                    <ComboBoxItem Content="Model B"/>
                </ComboBox>
                <TextBlock Text="API Key"/>
                <TextBox x:Name="ApiKeyInput" Watermark="Enter API key" Width="800" />
                <TextBlock Text="Text Prompt"/>
                <TextBox x:Name="PromptInput" 
                         Watermark="Enter prompt for AI" 
                         AcceptsReturn="True" 
                         Height="200"
                         Width="800"
                         TextWrapping="Wrap"/>
            </StackPanel>
        </TabItem>
    </TabControl>
</Window>